var D=Object.defineProperty;var w=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var k=(a,t,l)=>t in a?D(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,h=(a,t)=>{for(var l in t||(t={}))F.call(t,l)&&k(a,l,t[l]);if(w)for(var l of w(t))H.call(t,l)&&k(a,l,t[l]);return a};import{j as s,a as e,L as r,C as L,M as x,u as j,b as E,c as q,i as z,d as v,e as I,f as M,g as p,s as J,h as U,r as P,o as K,B as W,R as X,k as g,F as B,N as y,l as Y,m as G,P as V}from"./vendor.9a33dca9.js";const Q=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))u(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&u(o)}).observe(document,{childList:!0,subtree:!0});function l(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function u(i){if(i.ep)return;i.ep=!0;const n=l(i);fetch(i.href,n)}};Q();const Z=({isMenuOpen:a,setIsMenuOpen:t})=>s("div",{className:"header",children:[e("div",{className:"header__logo",children:e(r,{to:"/",children:e("img",{className:"header__logoImg",src:"images/TeslaLogoHD.png",alt:""})})}),s("div",{className:"header__links",children:[e(r,{to:"/",children:"Model S"}),e(r,{to:"/",children:"Model 3"}),e(r,{to:"/",children:"Model X"}),e(r,{to:"/",children:"Model Y"}),e(r,{to:"/",children:"Solar Roof"}),e(r,{to:"/",children:"Solar Panels"})]}),s("div",{className:"header__right",children:[e(r,{to:"/",className:a?"header__link--hidden":"",children:"Shop"}),e(r,{to:"/login",className:a?"header__link--hidden":"",children:"Tesla Account"}),e("div",{className:"header__menu",onClick:()=>t(!a),children:a?e(L,{}):e(x,{})})]})]});const d=({title:a})=>e("div",{className:"menuItem",children:e("h4",{children:a})});const $=a=>s("div",{className:"menu",children:[e(d,{title:"existing inventory"}),e(d,{title:"used inventory"}),e(d,{title:"trade-in"}),e(d,{title:"cybertruck"}),e(d,{title:"roadster"}),e(d,{title:"semi"}),e(d,{title:"charging"}),e(d,{title:"powerwall"}),e(d,{title:"commercial solar"}),e(d,{title:"test drive"}),e(d,{title:"find us"}),e(d,{title:"support"}),e(d,{title:"united states"})]});const ee=a=>e("div",{className:"headerBlock",children:s("div",{className:"headerBlock__info",children:[s("div",{className:"headerBlock__infoText",children:[e("h1",{children:"Model 3"}),s("h4",{children:["Order Online for ",e("span",{children:"Touchless Delivery"})]})]}),s("div",{className:"headerBlock__actions",children:[e("button",{className:"headerBlock__buttonPrimary",children:"custom order"}),e("button",{className:"headerBlock__buttonSecondary",children:"exiting inventory"})]})]})});const S=({name:a,type:t,onClick:l})=>e("button",{className:"buttonPrimary",onClick:l,type:t,children:a});const b=a=>e("button",{className:`buttonSecondary ${a.className}`,type:a.type,children:e("span",{children:a.name})});const _=()=>j(),O=E,ae={user:null,isLoading:!1,error:null},R=q({name:"user",initialState:ae,reducers:{login(a,t){a.user=t.payload,a.isLoading=!1,a.error=null},logout(a){a.user=null,a.isLoading=!1,a.error=null}}}),{login:A,logout:T}=R.actions;var te=R.reducer;const se={apiKey:"AIzaSyCx0s4eCdbSGwh_DLRb9aInzfl7Nz92sjk",authDomain:"tesla-clone-redux-ts.firebaseapp.com",projectId:"tesla-clone-redux-ts",storageBucket:"tesla-clone-redux-ts.appspot.com",messagingSenderId:"485009450092",appId:"1:485009450092:web:886ca808ce802285fde449"},N=z(se),le=()=>{const a=_(),t=v(),{register:l,handleSubmit:u,reset:i}=I(),n=o=>{console.log(o);const m=p(N);J(m,o.email,o.password).then(c=>{console.log(c.user),a(A({email:c.user.email,uid:c.user.uid,displayName:c.user.displayName})),t("/teslaaccount"),i()}).catch(c=>{c.code;const f=c.message;alert(f)})};return s("div",{className:"login",children:[s("div",{className:"login__header",children:[e("div",{className:"login__logo",children:e(r,{to:"/",children:e("img",{src:"images/TeslaLogoHD.png",alt:""})})}),s("div",{className:"login__language",children:[e(M,{}),e("span",{children:"en-US"})]})]}),s("div",{className:"login__info",children:[e("h1",{children:"Sign In"}),s("form",{className:"login__form",noValidate:!0,children:[e("label",{htmlFor:"email",children:"Email Address"}),e("input",h({type:"text",required:!0,id:"email",minLength:3},l("email"))),e("label",{htmlFor:"password",children:"Password"}),e("input",h({type:"password",id:"password"},l("password"))),e(S,{name:"Sign In",type:"submit",onClick:u(n)})]}),s("div",{className:"login__divider",children:[e("hr",{})," ",e("span",{children:"OR"})," ",e("hr",{})]}),e(r,{to:"/signup",children:e(b,{name:"create account",type:"button"})})]})]})};const re=()=>{const a=_(),t=v(),{register:l,handleSubmit:u,reset:i}=I(),n=o=>{if(console.log(o),o.fName)if(o.lName)if(o.email){if(!o.password)return alert("Please enter your password")}else return alert("Please enter your email");else return alert("Please enter your last name");else return alert("Please enter your first name");const m=p(N);U(m,o.email,o.password).then(c=>{a(A({email:c.user.email,uid:c.user.uid,displayName:o.fName})),localStorage.setItem("user",JSON.stringify(o.fName)),console.log(c.user),t("/teslaaccount"),i()}).catch(c=>{c.code;const f=c.message;alert(f)})};return s("div",{className:"signup",children:[s("div",{className:"signup__header",children:[e("div",{className:"signup__logo",children:e(r,{to:"/",children:e("img",{src:"images/TeslaLogoHD.png",alt:""})})}),s("div",{className:"signup__language",children:[e(M,{}),e("span",{children:"en-US"})]})]}),s("div",{className:"signup__info",children:[e("h1",{children:"Create Account"}),s("form",{className:"signup__form",children:[e("label",{htmlFor:"fName",children:"First Name"}),e("input",h({type:"text",required:!0,id:"fName"},l("fName"))),e("label",{htmlFor:"lName",children:"Last Name"}),e("input",h({type:"text",required:!0,id:"lName"},l("lName"))),e("label",{htmlFor:"email",children:"Email Address"}),e("input",h({type:"text",required:!0,id:"email"},l("email"))),e("label",{htmlFor:"password",children:"Password"}),e("input",h({type:"password",id:"password"},l("password"))),e(S,{name:"create account",type:"submit",onClick:u(n)})]}),s("div",{className:"signup__divider",children:[e("hr",{})," ",e("span",{children:"OR"})," ",e("hr",{})]}),e(r,{to:"/login",children:e(b,{name:"sign in",type:"button",className:"signup__buttonSecondary"})})]})]})};const C=({imgSrc:a,model:t,testDrive:l})=>s("div",{className:"car",children:[e("div",{className:"car__image",children:e("img",{src:a,alt:t})}),e("h2",{className:"car__model",children:t}),s("div",{className:"car__actions",children:[e(S,{name:"order",type:"button"}),l&&e(b,{name:"test drive",type:"button"})]}),s("div",{className:"car__info",children:[e("span",{children:"Request a Call"})," to speak with a product specialist, value your trade-in or apply for leasing"]})]});const ne=({isMenuOpen:a,setIsMenuOpen:t})=>{const l=p(N),u=_(),i=v(),n=O(m=>m.userSlice.user),o=()=>{l.signOut().then(()=>{u(T()),i("/")}).catch(m=>{alert(m.message)})};return s("div",{className:"teslaAccount",children:[s("div",{className:"teslaAccount__header",children:[e("div",{className:"teslaAccount__logo",children:e(r,{to:"/",children:e("img",{src:"images/TeslaLogoHD.png",alt:"Tesla"})})}),s("div",{className:"teslaAccount__links",children:[e(r,{to:"/teslaaccount",children:"Model S"}),e(r,{to:"/teslaaccount",children:"Model 3"}),e(r,{to:"/teslaaccount",children:"Model X"}),e(r,{to:"/teslaaccount",children:"Model Y"}),e(r,{to:"/teslaaccount",children:"Solar Roof"}),e(r,{to:"/teslaaccount",children:"Solar Panels"}),e(r,{to:"/teslaaccount",children:"Shop"}),e(r,{to:"/teslaaccount",children:"Tesla Account"}),e(r,{to:"",onClick:o,children:"Log out"}),e("div",{className:"teslaAccount__menu",onClick:()=>t(!a),children:a?e(L,{className:"teslaAccount__closeMenu"}):e(x,{})})]})]}),s("div",{className:"teslaAccount__info",children:[e("div",{className:"teslaAccount__person",children:e("h4",{children:` ${(n==null?void 0:n.displayName)||JSON.parse(localStorage.getItem("user"))}'s Tesla`})}),s("div",{className:"teslaAccount__infoRight",children:[e(r,{to:"",children:"Home"}),e(r,{to:"",children:"Account"}),e(r,{to:"",children:"History"}),e(r,{to:"",onClick:o,children:"Sign out"})]})]}),s("div",{className:"teslaAccount__car",children:[e(C,{imgSrc:"https://www.tesla.com/tesla_theme/assets/img/mytesla/v3/header-nocar-models@2x.jpg?20170815",model:"model s",testDrive:!0}),e(C,{imgSrc:"https://www.tesla.com/tesla_theme/assets/img/mytesla/v3/header-nocar-modelx@2x.jpg?20170815",model:"model x"})]})]})};function ie(){const[a,t]=P.exports.useState(!1),l=O(n=>n.userSlice.user),u=p(N),i=_();return P.exports.useEffect(()=>{K(u,n=>{i(n?A({email:n.email,displayName:n.displayName||JSON.parse(localStorage.getItem("user"))||"",uid:n.uid}):T())})},[]),e(W,{children:e("div",{className:"app",children:s(X,{children:[e(g,{path:"/",element:s(B,{children:[e(Z,{isMenuOpen:a,setIsMenuOpen:t}),a&&e($,{}),e(ee,{})]})}),e(g,{path:"/login",element:l?e(y,{to:"/teslaaccount",replace:!0}):e(le,{})}),e(g,{path:"/signup",element:l?e(y,{to:"/login",replace:!0}):e(re,{})}),e(g,{path:"/teslaaccount",element:l?s(B,{children:[e(ne,{isMenuOpen:a,setIsMenuOpen:t}),a&&e($,{})]}):e(y,{to:"/",replace:!0})})]})})})}const oe=Y({reducer:{userSlice:te}});G.render(e(V,{store:oe,children:e(ie,{})}),document.getElementById("root"));
